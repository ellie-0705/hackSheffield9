<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>Sound Palette</title>
        <!-- Bootstrap styles -->
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css">
        <!-- Custom styles -->
        <link rel="stylesheet" href="../styles/styles.css">
        <!-- Bootstrap JavaScript -->
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"></script>
        <script src="https://kit.fontawesome.com/7118fd66c6.js" crossorigin="anonymous"></script>
        <script>
            async function callPython() {
                const response = await fetch('http://127.0.0.1:5000/run', {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify({ input: 'Hello from JavaScript!' })
                });
    
                const data = await response.json();
                console.log('Response from Python:', data.result);
                document.getElementById('output').textContent = data.result;
            }
        </script>
    </head>
    <body onload="initialise();">
        <p id="output"></p>
        <nav class="navbar-brand navbar-light bg-light">
            <div>
                <h1 class="purple">Sound Palette <i class="fa-solid fa-music purple"></i></h1>
            </div>
        </nav>
            <div id="canvas_div">
                <canvas id="canvas_area" width="1200" height="200"></canvas>
                <p>Draw 4 crotches (quarter notes) per measure</p>
            </div>
            <div class="stave">
                <button id="clearCanvas">Clear All</button>
                <button id="undoButton">Undo</button>
                <button id="redoButton">Redo</button>
                <button id="submit" onclick="callPython()">Submit</button>
            </div>
    </body>
    <script src="../styles/sound-palette-js.js"></script>
    <footer class="mt-auto bg-body-tertiary text-center text-lg-start">
        <div class="text-center p-3 bg-dark">
            <p class="text-white">she sound on my palette till I club</p>
            <p class="text-white">Copyright Â© 2024</p>
        </div>
    </footer>
</html>
